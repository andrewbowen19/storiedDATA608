

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Story 2 &#8212; DATA 608 - Knowledge and Visual Analytics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'story2';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Story 3" href="story3.html" />
    <link rel="prev" title="Story 1" href="story1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    <p class="title logo__title">DATA 608 - Knowledge and Visual Analytics</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    DATA 608: Knowledge and Visual Analytics
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="one-page-bio.html">One Page Bio</a></li>
<li class="toctree-l1"><a class="reference internal" href="story1.html">Story 1</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Story 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="story3.html">Story 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="story4.html">Story 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="story5.html">Story 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="story6.html">Story 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="story7.html">Story 7</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/andrewbowen19/storiesDATA608" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/andrewbowen19/storiesDATA608/issues/new?title=Issue%20on%20page%20%2Fstory2.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/story2.Rmd" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.Rmd</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Story 2</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-sources">Data Sources</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-collection">Data Collection</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#consumer-price-index">Consumer Price Index</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#federal-funds-rate">Federal Funds Rate</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unemployment-rate">Unemployment Rate</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#combining-our-datasets">Combining our Datasets</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#economic-indicators-during-covid">Economic Indicators During COVID</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="story-2">
<h1>Story 2<a class="headerlink" href="#story-2" title="Permalink to this heading">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>Inflation and its economic effects have been in the news recently. The Fed’s goal has been to curb inflation (the general rise in the price of goods and services) and maintain a <a class="reference external" href="https://www.investopedia.com/terms/u/unemployment.asp">low unemployment rate</a> – the number of active job-seekers out of work. <a class="reference external" href="https://socialsci.libretexts.org/Bookshelves/Economics/Economics_(Boundless)/23%3A_Inflation_and_Unemployment/23.1%3A_The_Relationship_Between_Inflation_and_Unemployment#:~:text=The%20Phillips%20curve%20shows%20the%20inverse%20trade%2Doff%20between%20rates,low%2C%20inflation%20will%20be%20high.">The Phillips Curve</a> is an economic principle stating the general negative relationship between these two variables. Simply put, economies with higher inflation tend to have lower unemployment, and vice versa.</p>
<p>The Federal Reserve (Fed) is central bank of the United States, and is tasked with leveraging monetary policy to curb both these factors. This means the Fed can face the difficult choice of <em>either</em> reducing inflation <em>or</em> curbing unemployment. The main way the Fed can do this is via monetary policy, or the control of interest rates, which in theory can impact the amount of spending &amp; investingment in an economy. Jerome Powell, the Federal Reserve chairman, has stated a goal of accomplishing both these goals, something that the Phillips curve states is impossible.</p>
<p>In this RMarkdown notebook we’ll take a look at interest rate, unemployment, and inflation data to see if the Fed has accomplished these goals.</p>
</section>
<section id="data-sources">
<h2>Data Sources<a class="headerlink" href="#data-sources" title="Permalink to this heading">#</a></h2>
<p>We’ll be using the API from the St Louis Federal Reserve forinterest rate data</p>
<ul class="simple">
<li><p><a class="reference external" href="https://fredhelp.stlouisfed.org/fred/about/about-fred/what-is-fred/">FRED API</a> -</p></li>
<li><p><a class="reference external" href="https://www.bls.gov/developers/api_signature_v2.htm#single">BLS Data API</a> - used for unemployment data as well as consumer price idnex data</p></li>
</ul>
<p>To use the above APIs, one needs to register for requisite API keys. You can learn more about <a class="reference external" href="https://fred.stlouisfed.org/docs/api/api_key.html">registering for the FRED API here</a> and the <a class="reference external" href="https://data.bls.gov/registrationEngine/">BLS API here</a>. To follow best practices, I’ll be setting my API keys as R environment variables within my local environment, and pulling the values below for my API calls. You can set your token via the R <code class="docutils literal notranslate"><span class="pre">Sys.setenv</span></code> built-in function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Retrieve FRED and BLS API Keys</span>
<span class="n">registration_key</span> <span class="o">=</span> <span class="n">Sys</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;BLS_API_KEY&quot;</span><span class="p">)</span>
<span class="n">fed_api_key</span> <span class="o">&lt;-</span> <span class="n">Sys</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;FED_API_KEY&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="data-collection">
<h2>Data Collection<a class="headerlink" href="#data-collection" title="Permalink to this heading">#</a></h2>
<section id="consumer-price-index">
<h3>Consumer Price Index<a class="headerlink" href="#consumer-price-index" title="Permalink to this heading">#</a></h3>
<p>First we’ll pull data on the Consumer Price Index (CPI) from the BLS API. <a class="reference external" href="https://www.bls.gov/cpi/">CPI is a measure of the general prices for a basket of goods at a given point in time</a>. As such, it can serve as a good proxy measure for inflation (the general increase of price for gods and services) within an economy.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Call CPI data from BLS</span>
<span class="n">registration_key</span> <span class="o">&lt;-</span> <span class="n">Sys</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;BLS_API_KEY&quot;</span><span class="p">)</span>
<span class="n">series_id</span> <span class="o">&lt;-</span> <span class="s1">&#39;APU0000702111&#39;</span>
<span class="n">series_url</span> <span class="o">&lt;-</span> <span class="n">glue</span><span class="p">(</span><span class="s2">&quot;https://api.bls.gov/publicAPI/v2/timeseries/data/</span><span class="si">{series_id}</span><span class="s2">?registrationkey=</span><span class="si">{registration_key}</span><span class="s2">&amp;startyear=2003&amp;endyear=2023&quot;</span><span class="p">)</span>

<span class="n">response</span> <span class="o">&lt;-</span> <span class="n">GET</span><span class="p">(</span><span class="n">series_url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Format CPI data
response_txt &lt;- content(response, &quot;text&quot;, encoding = &quot;UTF-8&quot;)
json &lt;- fromJSON(response_txt, flatten = TRUE)

cpi &lt;- as.data.frame(json[[4]])$series.data[[1]]
head(cpi)
</pre></div>
</div>
</div>
</div>
<p>We’ll need to pull an additional 5 years of CPI data to</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>series_url &lt;= glue(&quot;https://api.bls.gov/publicAPI/v2/timeseries/data/{series_id}?registrationkey={registration_key}&amp;startyear=1998&amp;endyear=2003&quot;)
response &lt;- GET(series_url)
response_txt &lt;- content(response, &quot;text&quot;, encoding = &quot;UTF-8&quot;)
json &lt;- fromJSON(response_txt, flatten = TRUE)

cpi_older &lt;- as.data.frame(json[[4]])$series.data[[1]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Combining our CPI data
cpi_df &lt;- rbind(cpi, cpi_older)

# Converting dates from BLS format
cpi_df$date &lt;- str_c(cpi_df$periodName,&quot; &quot;, cpi_df$year)
cpi_df$date &lt;- myd(cpi_df$date, truncated=1)

# cast types
cpi_df$cpi &lt;- as.double(cpi$value)
cpi_df &lt;- cpi_df[, c(&quot;date&quot;, &quot;cpi&quot;)]
</pre></div>
</div>
</div>
</div>
<p>Now let’s make a simple plot of our CPI data over time. With this scaling we can see a steady increase of prices since the start of 2020.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cpi_plot</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">cpi_df</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">cpi</span><span class="p">))</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">()</span> <span class="o">+</span> 
  <span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;Month&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;CPI&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Consumer Price Index over Time - All US&quot;</span><span class="p">,</span> <span class="n">subtitle</span><span class="o">=</span><span class="s2">&quot;The CPI has shown a steady increase over the past few years post-COVID&quot;</span><span class="p">)</span>

<span class="n">cpi_plot</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="federal-funds-rate">
<h3>Federal Funds Rate<a class="headerlink" href="#federal-funds-rate" title="Permalink to this heading">#</a></h3>
<p>Grbabing interest rate data from the <a class="reference external" href="https://fred.stlouisfed.org/docs/api/fred/">St Louis Fed API (FRED)</a>. The <a class="reference external" href="https://fred.stlouisfed.org/series/FEDFUNDS">endpoint I’m using</a> contains information about the Federal Effective Funds rate, which is the <a class="reference external" href="https://www.investopedia.com/terms/f/federalfundsrate.asp">interest rate charged to banks borrowing overnight to meet their reserve requirements</a>. This is often an economic lever the <a class="reference external" href="https://www.nytimes.com/2023/09/19/business/economy/fed-meeting-interest-rates-inflation.html?searchResultPosition=2">Federal Reserve (Fed) can pull</a> in order to curb inflation or encourage spending in the economy.</p>
<div class="cell tag_remove_input docutils container">
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pull data from FRED API</span>
<span class="n">fed_response</span> <span class="o">&lt;-</span> <span class="n">GET</span><span class="p">(</span><span class="n">fred_url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s do some basic data wrangling of our FRED API response to get it into a good format for plotting (i.e., an R <code class="docutils literal notranslate"><span class="pre">data.frame</span></code>)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Wrangle response data into an R dataframe
fed_response_txt &lt;- content(fed_response, &quot;text&quot;, encoding = &quot;UTF-8&quot;)
fed_json &lt;- json &lt;- fromJSON(fed_response_txt, flatten = TRUE)
fed &lt;- fed_json$observations
</pre></div>
</div>
</div>
</div>
<p>Let’s clean up our federal funds rate data, we’ll eventually want to merge this data with our CPI and Unemployment data, so consistent data typing will be needed</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Convert types to align to other datasets
fed$date &lt;- as.Date(fed$date)
fed$fed_funds_rate &lt;- as.double(fed$value)

fed &lt;- fed[, c(&quot;date&quot;, &quot;fed_funds_rate&quot;)]
head(fed, 5)
</pre></div>
</div>
</div>
</div>
<p>Now let’s plot a simple time series of our federal funds rate date</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plotting Federal Funds Rate over time</span>
<span class="n">fed_rate_plot</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">fed</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">fed_funds_rate</span><span class="p">))</span> <span class="o">+</span> 
  <span class="n">geom_line</span><span class="p">()</span> <span class="o">+</span> <span class="n">labs</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;Fed Funds Rate&quot;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Month&quot;</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span><span class="s2">&quot;Effective Federal Funds Rate over Time&quot;</span><span class="p">,</span> <span class="n">substitle</span><span class="o">=</span><span class="s2">&quot;Recent federal interest rates&quot;</span><span class="p">)</span>
<span class="n">fed_rate_plot</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="unemployment-rate">
<h3>Unemployment Rate<a class="headerlink" href="#unemployment-rate" title="Permalink to this heading">#</a></h3>
<p>I found a CSV file containing <a class="reference external" href="https://beta.bls.gov/dataViewer/view/timeseries/LNS14000000">seasonally adjusted unemployment data from BLS here</a>. I’ve uploaded that to <a class="reference external" href="https://github.com/andrewbowen19/storiesDATA608/blob/main/data/unemployment-bls.csv">my GitHub here</a> and will be pulling from that URL</p>
<div class="cell tag_remove_input docutils container">
</div>
<p>As above, we’ll need to do some basic cleaning of our unemployment data before merging &amp; plotting.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>unemployment$date &lt;- as.Date(parse_date_time(unemployment$Label, order = &quot;Ym&quot;))
unemployment$unemployment_rate &lt;- unemployment$Value

unemployment &lt;- unemployment[, c(&quot;date&quot;, &quot;unemployment_rate&quot;)]
head(unemployment, 5)
</pre></div>
</div>
</div>
</div>
<p>Let’s quickly plot the US unemployment rate over time (1998 - 2003)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">unemployment_plot</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">unemployment</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unemployment_rate</span><span class="p">))</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">()</span> <span class="o">+</span> 
  <span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;Month&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Unemployment&quot;</span><span class="p">,</span>
       <span class="n">title</span><span class="o">=</span><span class="s2">&quot;US Unemployment Rate 1998 - 2023&quot;</span><span class="p">,</span>
       <span class="n">subtitle</span><span class="o">=</span><span class="s2">&quot;The post-COVID spike in unemployment has come back to earth&quot;</span><span class="p">)</span>


<span class="n">unemployment_plot</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="combining-our-datasets">
<h2>Combining our Datasets<a class="headerlink" href="#combining-our-datasets" title="Permalink to this heading">#</a></h2>
<p>Now we can join together our datasets to overlay the data points in a single panel plot</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dat</span> <span class="o">&lt;-</span> <span class="n">merge</span><span class="p">(</span><span class="n">unemployment</span><span class="p">,</span> <span class="n">fed</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">))</span>
<span class="n">df</span> <span class="o">&lt;-</span> <span class="n">merge</span><span class="p">(</span><span class="n">dat</span><span class="p">,</span> <span class="n">cpi_df</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s plot the time series three variables of interest:</p>
<ul class="simple">
<li><p><em>Consumer Price Index (CPI)</em></p></li>
<li><p><em>Unemployment Rate (%)</em></p></li>
<li><p><em>Federal Funds Rate (%)</em></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create Panel plot of our 3 metrics</span>
<span class="n">labels_removed</span> <span class="o">&lt;-</span> <span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span> <span class="n">NULL</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">NULL</span><span class="p">,</span> <span class="n">subtitle</span><span class="o">=</span><span class="n">NULL</span><span class="p">)</span>

<span class="c1"># Unemployment</span>
<span class="n">p1</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">unemployment_rate</span><span class="p">))</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">()</span> <span class="o">+</span> 
  <span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">NULL</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Unemployment Rate&quot;</span><span class="p">,</span>
       <span class="n">title</span><span class="o">=</span><span class="s2">&quot;US Unemployment Rate, Federal Funds Rate, and CPI 1998 - 2003&quot;</span><span class="p">,</span>
       <span class="n">subtitle</span><span class="o">=</span><span class="s2">&quot;The Fed&#39;s control of interest rates has coincided with lower unemployment, but inflation remains an open question today.&quot;</span><span class="p">)</span>

<span class="c1"># Fed Funds Rate Plot</span>
<span class="n">p2</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">fed_funds_rate</span><span class="p">))</span> <span class="o">+</span> 
  <span class="n">geom_line</span><span class="p">()</span> <span class="o">+</span> <span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">NULL</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Fed Funds Rate&quot;</span><span class="p">)</span>

<span class="n">p3</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">cpi</span><span class="p">))</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">()</span> <span class="o">+</span> 
  <span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;Month&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;CPI&quot;</span><span class="p">)</span>

<span class="c1"># Plot unemployment, fed funds rate, and CPI in single panel</span>
<span class="n">economy_plot</span> <span class="o">&lt;-</span> <span class="n">plot_grid</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">,</span>
                          <span class="n">align</span><span class="o">=</span><span class="s2">&quot;v&quot;</span><span class="p">,</span> <span class="n">nrow</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                          <span class="n">rel_heights</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">labels</span><span class="o">=</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Looking at the panel plot above, we see the period of “easy money” from 2008 - 2016. This came in the wake of the Great Recession, when the Fed was looking to tackle some of the highest levels of national unemployment since the Great Depression. The CPI stays relatively flat during this period, as near-zero interest rates were in place to maximize employment. In simpler terms, the economy had not “super-heated” as a result of low interest rates <em>yet</em>, so the Fed kept them low to tackle unemployment.</p>
<p>The <a class="reference external" href="https://sgp.fas.org/crs/misc/IF10443.pdf">natural rate of unemployment in the US is <span class="math notranslate nohighlight">\(~4.5\%\)</span></a>, which started to occur around 2016. By this point, inflationary pressures weren’t occurring yet in the CPI panel above.</p>
<section id="economic-indicators-during-covid">
<h3>Economic Indicators During COVID<a class="headerlink" href="#economic-indicators-during-covid" title="Permalink to this heading">#</a></h3>
<p>One time period of interest is 2020-onwards, as the economic effects of COVID-19 are still impacting society today.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filter data to covid-era and create component plots</span>
<span class="n">covid</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span> <span class="nb">filter</span><span class="p">(</span><span class="n">date</span> <span class="o">&gt;</span> <span class="n">date</span><span class="p">(</span><span class="s2">&quot;2019-12-31&quot;</span><span class="p">))</span>

<span class="n">unemp_covid</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">covid</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">unemployment_rate</span><span class="p">))</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">()</span> <span class="o">+</span> <span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">NULL</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Unemployment&quot;</span><span class="p">)</span>
<span class="n">fed_covid</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">covid</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">fed_funds_rate</span><span class="p">))</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">()</span> <span class="o">+</span> <span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">NULL</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Fed Funds Rate&quot;</span><span class="p">)</span>
<span class="n">cpi_covid</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">covid</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">cpi</span><span class="p">))</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">()</span> <span class="o">+</span> <span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;Month&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;CPI&quot;</span><span class="p">)</span>

<span class="c1"># Plot covid-era unemployment, fed funds rate, and CPI in single panel</span>
<span class="n">plot_grid</span><span class="p">(</span><span class="n">unemp_covid</span><span class="p">,</span>
          <span class="n">fed_covid</span><span class="p">,</span>
          <span class="n">cpi_covid</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s2">&quot;v&quot;</span><span class="p">,</span>
             <span class="n">nrow</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">rel_heights</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>From our zoomed-in plot above of economic activity during the COVID era, we see unemployment returning to low levels after an initial spike of layoffs at the beginning of the pandemic. Some of this was the result of <a class="reference external" href="https://home.treasury.gov/policy-issues/coronavirus">federal COVID economic aid</a>, which provided loans and funding to businesses to continue operating with public health measures impacting productivity. While this happened, an initial drop in the federal funds rate was made to encourage public credit and investment in the face of pandemic-induced uncertainty.</p>
<p>This rate increase did coincide with a sharp reduction in unemployment, but also saw a continuation of inflation, as the CPI chart ticked higher throughout the COVID era (even in the face of interest rate hikes beginning in 2022).</p>
</section>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this heading">#</a></h2>
<p>Overall, the Fed has the (unenviable) task of keeping <em>both</em> low unempoyment rates and low inflation. In recent years, the Fed has been able to maintain low unemployment in the face of COVID-related economic impacts. However, inflation has continued to be the thorn in the side of the federal reserve after the pandemic.</p>
<p>In short, the Federal reserve was able to keep inflation and unemployment low for stretches, but external economic factors have made that a tougher job recently. It remains to be seen whether the central bank can keep prices down in the next few business cycles.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="story1.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Story 1</p>
      </div>
    </a>
    <a class="right-next"
       href="story3.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Story 3</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-sources">Data Sources</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-collection">Data Collection</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#consumer-price-index">Consumer Price Index</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#federal-funds-rate">Federal Funds Rate</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unemployment-rate">Unemployment Rate</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#combining-our-datasets">Combining our Datasets</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#economic-indicators-during-covid">Economic Indicators During COVID</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Andrew Bowen
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>